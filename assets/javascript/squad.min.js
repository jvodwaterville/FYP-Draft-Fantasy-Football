function loadThisPage(){$('*[id*="Goalkeeper"]:visible').each(function(){this.setAttribute("onClick","chooseSub(this.id);")}),$('*[id*="Defender"]:visible').each(function(){this.setAttribute("onClick","chooseSub(this.id);")}),$('*[id*="Midfielder"]:visible').each(function(){this.setAttribute("onClick","chooseSub(this.id);")}),$('*[id*="Forward"]:visible').each(function(){this.setAttribute("onClick","chooseSub(this.id);")}),$('[class="name"]:visible').each(function(){this.setAttribute("onClick","openPlayerInfo(this.id, event);")})}function chooseSub(e){var i=($("#gk .player").length,$("#df .player").length),n=$("#mf .player").length,o=$("#str .player").length,a=e.substring(0,1);if("G"==a){var s=e.substring(10);idHolder=s;var e=e.substring(0,10);$('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")}),$('*[id*="Defender"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Midfielder"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Forward"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")})}else if("D"==a){var r=document.getElementById(""+e).parentNode.parentNode.id,s=e.substring(8);idHolder=s;var e=e.substring(0,8);"reserves"==r?($('*[id*="Defender"]:visible').each(function(){this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")}),$('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Midfielder"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Forward"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")})):"bench"==r?($('*[id*="Defender"]:visible').each(function(){this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")}),$('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Midfielder"]:visible').each(function(){2!=n&&"reserves"!=this.parentNode.parentNode.id?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;"))}),$('*[id*="Forward"]:visible').each(function(){1!=o&&"reserves"!=this.parentNode.parentNode.id?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")),this.parentNode.parentNode.id==r&&(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);"))})):"pitch"==r&&($('*[id*="Defender"]:visible').each(function(){this.parentNode.parentNode.id!=r?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):this.parentNode.parentNode.id==r&&(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;"))}),$('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Midfielder"]:visible').each(function(){this.parentNode.parentNode.id!=r&&"reserves"!=this.parentNode.parentNode.id&&i>3&&(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")),(this.parentNode.parentNode.id==r||"reserves"==this.parentNode.parentNode.id)&&(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;"))}),$('*[id*="Forward"]:visible').each(function(){this.parentNode.parentNode.id!=r&&"reserves"!=this.parentNode.parentNode.id&&i>3?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):(this.parentNode.parentNode.id==r||"reserves"==this.parentNode.parentNode.id)&&(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;"))}))}else if("M"==a){var r=document.getElementById(""+e).parentNode.parentNode.id,s=e.substring(10);idHolder=s;var e=e.substring(0,10);"reserves"==r?($('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Defender"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Midfielder"]:visible').each(function(){this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")}),$('*[id*="Forward"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")})):"bench"==r?($('*[id*="Midfielder"]:visible').each(function(){this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")}),$('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Defender"]:visible').each(function(){i>3&&"reserves"!=this.parentNode.parentNode.id?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")),this.parentNode.parentNode.id==r&&(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);"))}),$('*[id*="Forward"]:visible').each(function(){o>1&&"reserves"!=this.parentNode.parentNode.id?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")),this.parentNode.parentNode.id==r&&(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);"))})):"pitch"==r&&($('*[id*="Midfielder"]:visible').each(function(){this.parentNode.parentNode.id!=r?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):this.parentNode.parentNode.id==r&&(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;"))}),$('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Defender"]:visible').each(function(){this.parentNode.parentNode.id!=r&&"reserves"!=this.parentNode.parentNode.id&&n>2&&(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")),(this.parentNode.parentNode.id==r||"reserves"==this.parentNode.parentNode.id)&&(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;"))}),$('*[id*="Forward"]:visible').each(function(){this.parentNode.parentNode.id!=r&&"reserves"!=this.parentNode.parentNode.id&&n>2?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):(this.parentNode.parentNode.id==r||"reserves"==this.parentNode.parentNode.id)&&(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;"))}))}else{var r=document.getElementById(""+e).parentNode.parentNode.id,s=e.substring(7);idHolder=s;var e=e.substring(0,7);"reserves"==r?($('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Defender"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Midfielder"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Forward"]:visible').each(function(){this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")})):"bench"==r?($('*[id*="Forward"]:visible').each(function(){this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")}),$('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Defender"]:visible').each(function(){i>3&&"reserves"!=this.parentNode.parentNode.id?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")),this.parentNode.parentNode.id==r&&(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);"))}),$('*[id*="Midfielder"]:visible').each(function(){n>2&&"reserves"!=this.parentNode.parentNode.id?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")),this.parentNode.parentNode.id==r&&(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);"))})):"pitch"==r&&($('*[id*="Forward"]:visible').each(function(){this.parentNode.parentNode.id!=r?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):this.parentNode.parentNode.id==r&&(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;"))}),$('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Defender"]:visible').each(function(){this.parentNode.parentNode.id!=r&&"reserves"!=this.parentNode.parentNode.id&&o>1&&(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")),(this.parentNode.parentNode.id==r||"reserves"==this.parentNode.parentNode.id)&&(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;"))}),$('*[id*="Midfielder"]:visible').each(function(){this.parentNode.parentNode.id!=r&&"reserves"!=this.parentNode.parentNode.id&&o>1?(this.style.backgroundColor="orange",this.style.opacity="0.7",this.setAttribute("onClick","makeSub(this.id, idHolder);")):(this.parentNode.parentNode.id==r||"reserves"==this.parentNode.parentNode.id)&&(this.style.backgroundColor="none",this.style.opacity="1",this.setAttribute("onClick","none;"))}))}$("#"+e+s).css("background-color","indigo"),$("#"+e+s).css("opacity","0.8"),document.getElementById(""+e+s).setAttribute("onClick","cancelSub();")}function cancelSub(){$('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="inherit",this.style.opacity="1",this.setAttribute("onClick","chooseSub(this.id);")}),$('*[id*="Defender"]:visible').each(function(){this.style.backgroundColor="inherit",this.style.opacity="1",this.setAttribute("onClick","chooseSub(this.id);")}),$('*[id*="Midfielder"]:visible').each(function(){this.style.backgroundColor="inherit",this.style.opacity="1",this.setAttribute("onClick","chooseSub(this.id);")}),$('*[id*="Forward"]:visible').each(function(){this.style.backgroundColor="inherit",this.style.opacity="1",this.setAttribute("onClick","chooseSub(this.id);")})}function makeSub(e,t){for(var i="squadid",n="Not found",o=[],a=location.search.substr(1).split("&"),s=0;s<a.length;s++)o=a[s].split("="),o[0]===i&&(n=decodeURIComponent(o[1]));var r=e.substring(0,1);e="G"==r?e.substring(10):"D"==r?e.substring(8):"M"==r?e.substring(10):e.substring(7);var l;l=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),l.onreadystatechange=function(){4==l.readyState&&200==l.status&&(document.getElementById("wrapper").innerHTML=l.responseText,loadThisPage())},l.open("GET","index.php?makeSub=true&pl1="+e+"&pl2="+t+"&squadid="+n,!0),l.send()}function removePlayersOnClick(){$('*[id*="Goalkeeper"]:visible').each(function(){this.style.backgroundColor="inherit",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Defender"]:visible').each(function(){this.style.backgroundColor="inherit",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Midfielder"]:visible').each(function(){this.style.backgroundColor="inherit",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('*[id*="Forward"]:visible').each(function(){this.style.backgroundColor="inherit",this.style.opacity="1",this.setAttribute("onClick","none;")}),$('[class="name"]:visible').each(function(){this.setAttribute("onClick","none;")})}var idHolder=0;